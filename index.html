<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Jogo â€” MatemÃ¡tica, EducaÃ§Ã£o Financeira, PortuguÃªs, Tempo & CiÃªncias (1 RobÃ´)</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <main class="app" role="application" aria-label="Jogo â€“ MatemÃ¡tica, EducaÃ§Ã£o Financeira, PortuguÃªs, Tempo e CiÃªncias">
    <div class="topbar">
      <div class="back-btn-container">
        <button class="mini ghost" id="backBtn" title="Voltar Ã  seleÃ§Ã£o" aria-label="Voltar Ã  seleÃ§Ã£o" disabled>âŸµ Voltar</button>
      </div>
      <div class="scorewrap">
        <div class="score" id="score" aria-live="polite" aria-atomic="true">Pontos: 0</div>
        <div class="subscore" id="subscore" aria-live="polite" aria-atomic="true">Acertos: 0
Erros: 0</div>
        <button class="mini" id="statsBtn" title="Ver estatÃ­sticas" aria-label="Ver estatÃ­sticas">ğŸ“Š</button>
      </div>
    </div>

    <!-- ===== Start Screen Overlay ===== -->
    <section id="startOverlay" class="overlay" aria-label="Tela de seleÃ§Ã£o de categorias">
      <div class="panel" role="dialog" aria-modal="true">
        <h2>Escolha as categorias</h2>
        <div class="desc">Selecione <strong>uma ou mais</strong> categorias e clique em <em>Iniciar</em>. VocÃª pode recolher/expandir os grupos.</div>
        
        <!-- Seletor de Sprites -->
        <div style="margin: 15px 0; padding: 10px; background: #f8f9fa; border-radius: 8px; border: 1px solid #dee2e6;">
          <h3 style="margin: 0 0 10px 0; font-size: 0.9em; color: #6c757d;">ğŸ­ Escolha seus sprites:</h3>
          <div style="display: flex; gap: 15px; align-items: center; flex-wrap: wrap;">
            <label style="display: flex; align-items: center; gap: 6px; cursor: pointer;">
              <input type="radio" name="spriteType" value="robots" id="spriteRobots" >
              <span>ğŸ¤– RobÃ´s</span>
            </label>
            <label style="display: flex; align-items: center; gap: 6px; cursor: pointer;">
              <input type="radio" name="spriteType" value="ducklings" id="spriteDucklings" checked>
              <span>ğŸ¥ Pintinhos</span>
            </label>
            <label style="display: flex; align-items: center; gap: 6px; cursor: pointer;">
              <input type="radio" name="spriteType" value="bunnies" id="spriteBunnies">
              <span>ğŸ° Coelhinhos</span>
            </label>
            <label style="display: flex; align-items: center; gap: 6px; cursor: pointer;">
              <input type="radio" name="spriteType" value="mixed" id="spriteMixed">
              <span>ğŸª Misturado</span>
            </label>
          </div>
        </div>
        
        <div class="catGroups" id="catGroups"></div>
        <div class="panel-footer" style="display:flex; align-items:center; justify-content:space-between; gap:10px; margin-top:6px;">
          <label style="display:flex; align-items:center; gap:8px; color:var(--muted)"><input type="checkbox" id="resetOnStart" checked> Zerar placar ao iniciar</label>
          <div class="actions">
            <button class="btn tertiary" id="selectAllBtn" type="button">Selecionar tudo</button>
            <button class="btn secondary" id="clearAllBtn" type="button">Limpar</button>
            <button class="btn primary" id="startBtn" type="button" disabled>Iniciar â–¶</button>
          </div>
        </div>
      </div>
    </section>

    <section class="arena" id="arena">
      <canvas id="botCanvas"></canvas>
      <div class="hint" id="hint">Escolha a opÃ§Ã£o correta</div>
      <div id="word" class="wordBox neutral" aria-live="polite" aria-atomic="true">â€”</div>
    </section>

    <footer class="footer">
      <div class="bar">
        <div>Categoria: <span class="chip" id="category">â€”</span></div>
        <div class="nextInfo" id="nextInfo"></div>
      </div>
      <div id="options" class="options" role="group" aria-label="OpÃ§Ãµes"></div>
    </footer>

    <dialog id="statsModal">
      <form method="dialog">
        <h2>EstatÃ­sticas por item</h2>
        <div class="legend">Ordenado por % de acerto</div>
        <div class="tableWrap">
          <table>
            <thead>
              <tr><th>Item</th><th>Categoria</th><th>Acertos</th><th>Erros</th><th>%</th><th>Tentativas</th></tr>
            </thead>
            <tbody id="statsBody"></tbody>
          </table>
        </div>
        <div class="actions"><button id="closeStats" class="mini">Fechar</button></div>
      </form>
    </dialog>
  </main>

  <script type="module" src="main.js"></script>
</body>
</html>
